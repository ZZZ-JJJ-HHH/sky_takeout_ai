# ğŸ“± ç”¨æˆ·ç«¯å‰ç«¯æŠ€æœ¯è§„èŒƒ

> **é¡¹ç›®åç§°**ï¼šfrontend-user  
> **æŠ€æœ¯æ ˆ**ï¼šVue 3 + TypeScript + Vite + Vant + TailwindCSS  
> **ç›®æ ‡ç”¨æˆ·**ï¼šæ™®é€šæ¶ˆè´¹è€…  

---

## ğŸ“ é¡¹ç›®ç›®å½•ç»“æ„

```
frontend-user/
â”œâ”€â”€ public/                 # é™æ€èµ„æº
â”‚   â””â”€â”€ favicon.ico
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ api/               # APIæ¥å£å®šä¹‰
â”‚   â”œâ”€â”€ assets/            # é™æ€èµ„æº
â”‚   â”œâ”€â”€ components/        # å…¬å…±ç»„ä»¶
â”‚   â”œâ”€â”€ composables/       # ç»„åˆå¼å‡½æ•°
â”‚   â”œâ”€â”€ layouts/           # å¸ƒå±€ç»„ä»¶
â”‚   â”œâ”€â”€ pages/             # é¡µé¢ç»„ä»¶
â”‚   â”œâ”€â”€ router/            # è·¯ç”±é…ç½®
â”‚   â”œâ”€â”€ stores/            # çŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ styles/            # æ ·å¼æ–‡ä»¶
â”‚   â”œâ”€â”€ utils/             # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ App.vue            # æ ¹ç»„ä»¶
â”‚   â””â”€â”€ main.ts            # å…¥å£æ–‡ä»¶
â”œâ”€â”€ .eslintrc.cjs          # ESLinté…ç½®
â”œâ”€â”€ .prettierrc            # Prettieré…ç½®
â”œâ”€â”€ index.html             # HTMLæ¨¡æ¿
â”œâ”€â”€ package.json           # ä¾èµ–é…ç½®
â”œâ”€â”€ postcss.config.js      # PostCSSé…ç½®
â”œâ”€â”€ tailwind.config.js     # Tailwindé…ç½®
â”œâ”€â”€ tsconfig.json          # TypeScripté…ç½®
â”œâ”€â”€ vite.config.ts         # Viteé…ç½®
â””â”€â”€ README.md              # é¡¹ç›®è¯´æ˜
```

## ğŸ›  æŠ€æœ¯æ ˆè¯¦è§£

### æ ¸å¿ƒæ¡†æ¶
- **Vue 3**ï¼šæ¸è¿›å¼JavaScriptæ¡†æ¶ï¼Œé‡‡ç”¨Composition API
- **TypeScript**ï¼šJavaScriptè¶…é›†ï¼Œæä¾›ç±»å‹å®‰å…¨
- **Vite**ï¼šä¸‹ä¸€ä»£å‰ç«¯æ„å»ºå·¥å…·ï¼Œæé€Ÿå†·å¯åŠ¨

### ç§»åŠ¨ç«¯UIåº“
- **Vant**ï¼šæœ‰èµå‡ºå“çš„ç§»åŠ¨ç«¯Vueç»„ä»¶åº“
- **@vant/icons**ï¼šVantå›¾æ ‡åº“

### æ ·å¼æ¡†æ¶
- **TailwindCSS**ï¼šå®ç”¨ä¼˜å…ˆçš„CSSæ¡†æ¶
- **PostCSS**ï¼šCSSåå¤„ç†å™¨

### çŠ¶æ€ç®¡ç†
- **Pinia**ï¼šVue 3å®˜æ–¹æ¨èçš„çŠ¶æ€ç®¡ç†åº“

### è·¯ç”±ç®¡ç†
- **Vue Router 4**ï¼šVue 3è·¯ç”±ç®¡ç†å™¨

### HTTPå®¢æˆ·ç«¯
- **Axios**ï¼šPromise-based HTTPå®¢æˆ·ç«¯
- **js-cookie**ï¼šCookieæ“ä½œå·¥å…·

### å¼€å‘å·¥å…·
- **ESLint**ï¼šä»£ç è´¨é‡æ£€æŸ¥å·¥å…·
- **Prettier**ï¼šä»£ç æ ¼å¼åŒ–å·¥å…·
- **Vue DevTools**ï¼šVueå¼€å‘è°ƒè¯•å·¥å…·

## ğŸ”§ æ ¸å¿ƒé…ç½®æ–‡ä»¶

### vite.config.ts
```typescript
import { defineConfig } from 'vite'
import vue from '@vitejs/plugin-vue'
import { resolve } from 'path'

export default defineConfig({
  plugins: [vue()],
  resolve: {
    alias: {
      '@': resolve(__dirname, 'src')
    }
  },
  server: {
    port: 3001,
    proxy: {
      '/api': {
        target: 'http://localhost:8080',
        changeOrigin: true,
        rewrite: (path) => path.replace(/^\/api/, '')
      }
    }
  },
  css: {
    postcss: {
      plugins: [
        require('tailwindcss'),
        require('autoprefixer')
      ]
    }
  }
})
```

### tailwind.config.js
```javascript
/** @type {import('tailwindcss').Config} */
module.exports = {
  content: [
    "./index.html",
    "./src/**/*.{vue,js,ts,jsx,tsx}",
  ],
  theme: {
    extend: {
      colors: {
        primary: '#ff6b35',
        secondary: '#f7931e',
        success: '#07c160',
        warning: '#ff976a',
        danger: '#ee0a24',
        info: '#1989fa'
      }
    },
  },
  plugins: [],
}
```

### postcss.config.js
```javascript
module.exports = {
  plugins: {
    tailwindcss: {},
    autoprefixer: {},
  },
}
```

## ğŸ¯ å¼€å‘è§„èŒƒ

### å‘½åè§„èŒƒ
- **æ–‡ä»¶å‘½å**ï¼škebab-caseï¼ˆçŸ­æ¨ªçº¿åˆ†éš”ï¼‰
- **ç»„ä»¶å‘½å**ï¼šPascalCaseï¼ˆå¤§é©¼å³°ï¼‰
- **å˜é‡å‘½å**ï¼šcamelCaseï¼ˆå°é©¼å³°ï¼‰
- **å¸¸é‡å‘½å**ï¼šUPPER_SNAKE_CASEï¼ˆå¤§å†™ä¸‹åˆ’çº¿ï¼‰

### ç§»åŠ¨ç«¯ç»„ä»¶è§„èŒƒ
```vue
<!-- æ¨èçš„ç§»åŠ¨ç«¯ç»„ä»¶ç»“æ„ -->
<template>
  <div class="page-container">
    <van-nav-bar
      title="é¡µé¢æ ‡é¢˜"
      left-arrow
      @click-left="onClickLeft"
    />
    
    <div class="content">
      <!-- é¡µé¢å†…å®¹ -->
    </div>
    
    <van-tabbar v-model="activeTab">
      <van-tabbar-item icon="home-o">é¦–é¡µ</van-tabbar-item>
      <van-tabbar-item icon="apps-o">åˆ†ç±»</van-tabbar-item>
      <van-tabbar-item icon="cart-o">è´­ç‰©è½¦</van-tabbar-item>
      <van-tabbar-item icon="user-o">æˆ‘çš„</van-tabbar-item>
    </van-tabbar>
  </div>
</template>

<script setup lang="ts">
import { ref } from 'vue'
import { useRouter } from 'vue-router'
import { showToast } from 'vant'

const router = useRouter()
const activeTab = ref(0)

const onClickLeft = () => {
  router.back()
}
</script>

<style scoped>
.page-container {
  min-height: 100vh;
  background-color: #f5f5f5;
}

.content {
  padding: 16px;
  padding-bottom: 60px; /* ä¸ºåº•éƒ¨tabbarç•™å‡ºç©ºé—´ */
}
</style>
```

### APIè°ƒç”¨è§„èŒƒ
```typescript
// api/modules/product.ts
import request from '@/utils/request'

export interface Dish {
  id: number
  name: string
  price: number
  image: string
  description: string
  categoryId: number
}

export interface Category {
  id: number
  name: string
  type: number
}

export const productApi = {
  // è·å–èœå“åˆ†ç±»
  getCategoryList: (type: number) => {
    return request.get<Category[]>('/api/category/list', { params: { type } })
  },
  
  // è·å–èœå“åˆ—è¡¨
  getDishList: (categoryId: number) => {
    return request.get<Dish[]>('/api/dish/list', { params: { categoryId } })
  },
  
  // è·å–å¥—é¤åˆ—è¡¨
  getSetmealList: (categoryId: number) => {
    return request.get<Setmeal[]>('/api/setmeal/list', { params: { categoryId } })
  }
}
```

### è·¯ç”±è§„èŒƒ
```typescript
// router/routes.ts
import { RouteRecordRaw } from 'vue-router'

export const routes: RouteRecordRaw[] = [
  {
    path: '/',
    redirect: '/home'
  },
  {
    path: '/home',
    component: () => import('@/pages/home/index.vue'),
    meta: {
      title: 'é¦–é¡µ',
      keepAlive: true
    }
  },
  {
    path: '/category',
    component: () => import('@/pages/category/index.vue'),
    meta: {
      title: 'åˆ†ç±»',
      keepAlive: true
    }
  },
  {
    path: '/cart',
    component: () => import('@/pages/cart/index.vue'),
    meta: {
      title: 'è´­ç‰©è½¦'
    }
  },
  {
    path: '/profile',
    component: () => import('@/pages/profile/index.vue'),
    meta: {
      title: 'æˆ‘çš„'
    }
  },
  {
    path: '/product/:id',
    component: () => import('@/pages/product/detail.vue'),
    meta: {
      title: 'å•†å“è¯¦æƒ…'
    }
  }
]
```

### çŠ¶æ€ç®¡ç†è§„èŒƒ
```typescript
// stores/cart.ts
import { defineStore } from 'pinia'
import type { Dish } from '@/api/modules/product'

interface CartItem {
  id: number
  name: string
  price: number
  image: string
  quantity: number
  flavor?: string
}

export const useCartStore = defineStore('cart', {
  state: () => ({
    items: [] as CartItem[]
  }),
  
  getters: {
    totalQuantity: (state) => {
      return state.items.reduce((total, item) => total + item.quantity, 0)
    },
    
    totalPrice: (state) => {
      return state.items.reduce((total, item) => total + item.price * item.quantity, 0)
    },
    
    isEmpty: (state) => state.items.length === 0
  },
  
  actions: {
    addItem(item: Omit<CartItem, 'quantity'>) {
      const existingItem = this.items.find(i => i.id === item.id && i.flavor === item.flavor)
      
      if (existingItem) {
        existingItem.quantity++
      } else {
        this.items.push({ ...item, quantity: 1 })
      }
    },
    
    removeItem(id: number, flavor?: string) {
      const index = this.items.findIndex(i => i.id === id && i.flavor === flavor)
      if (index > -1) {
        this.items.splice(index, 1)
      }
    },
    
    updateQuantity(id: number, quantity: number, flavor?: string) {
      const item = this.items.find(i => i.id === id && i.flavor === flavor)
      if (item) {
        item.quantity = Math.max(0, quantity)
        if (item.quantity === 0) {
          this.removeItem(id, flavor)
        }
      }
    },
    
    clear() {
      this.items = []
    }
  }
})
```

## ğŸ“± å“åº”å¼è®¾è®¡

### ç§»åŠ¨ç«¯é€‚é…
```scss
// styles/mobile.scss
// è®¾è®¡ç¨¿åŸºå‡†å®½åº¦
$design-width: 375px;

// pxè½¬vwå‡½æ•°
@function vw($px) {
  @return ($px / $design-width) * 100vw;
}

// å¸¸ç”¨æ–­ç‚¹
$mobile-xs: 320px;
$mobile-sm: 375px;
$mobile-md: 414px;
$mobile-lg: 480px;
```

### è§¦æ‘¸ä¼˜åŒ–
```css
/* ç¦ç”¨é•¿æŒ‰é€‰æ‹©æ–‡æœ¬ */
* {
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

/* ç‚¹å‡»æ•ˆæœä¼˜åŒ– */
.tap-highlight {
  -webkit-tap-highlight-color: transparent;
}

/* æ»šåŠ¨ä¼˜åŒ– */
.scroll-container {
  -webkit-overflow-scrolling: touch;
}
```

## ğŸ” å®‰å…¨æªæ–½

### ç”¨æˆ·è®¤è¯
- å¾®ä¿¡æˆæƒç™»å½•ï¼ˆé¢„ç•™æ¥å£ï¼‰
- æ‰‹æœºå·éªŒè¯ç ç™»å½•
- Tokenè¿‡æœŸè‡ªåŠ¨åˆ·æ–°
- æœ¬åœ°å­˜å‚¨åŠ å¯†

### æ•°æ®å®‰å…¨
- æ•æ„Ÿä¿¡æ¯HTTPSä¼ è¾“
- è¡¨å•è¾“å…¥éªŒè¯
- é˜²æ­¢XSSæ”»å‡»
- é˜²æ­¢CSRFæ”»å‡»

## ğŸ“Š æ€§èƒ½ä¼˜åŒ–

### åŠ è½½ä¼˜åŒ–
```typescript
// è·¯ç”±æ‡’åŠ è½½
const Home = () => import('@/pages/home/index.vue')
const Category = () => import('@/pages/category/index.vue')
const Cart = () => import('@/pages/cart/index.vue')
const Profile = () => import('@/pages/profile/index.vue')
```

### å›¾ç‰‡ä¼˜åŒ–
```vue
<template>
  <van-image
    :src="imageUrl"
    :lazy-load="true"
    width="100%"
    height="auto"
    fit="cover"
  >
    <template #loading>
      <van-loading type="spinner" size="20" />
    </template>
    <template #error>
      <div>åŠ è½½å¤±è´¥</div>
    </template>
  </van-image>
</template>
```

### é¦–å±ä¼˜åŒ–
- éª¨æ¶å±åŠ è½½
- å…³é”®èµ„æºpreload
- éå…³é”®èµ„æºprefetch
- æœåŠ¡ç«¯æ¸²æŸ“(SSR)é¢„ç•™

## ğŸ¨ UIè®¾è®¡è§„èŒƒ

### è‰²å½©ç³»ç»Ÿ
```scss
// styles/colors.scss
:root {
  --primary-color: #ff6b35;
  --secondary-color: #f7931e;
  --success-color: #07c160;
  --warning-color: #ff976a;
  --danger-color: #ee0a24;
  --info-color: #1989fa;
  
  --text-color: #323233;
  --text-color-secondary: #969799;
  --text-color-placeholder: #c8c9cc;
  
  --border-color: #ebedf0;
  --background-color: #f5f5f5;
  --white: #ffffff;
}
```

### é—´è·ç³»ç»Ÿ
```scss
// styles/spacing.scss
:root {
  --padding-xs: 8px;
  --padding-sm: 12px;
  --padding-md: 16px;
  --padding-lg: 24px;
  --padding-xl: 32px;
  
  --margin-xs: 8px;
  --margin-sm: 12px;
  --margin-md: 16px;
  --margin-lg: 24px;
  --margin-xl: 32px;
}
```

### å­—ä½“è§„èŒƒ
```scss
// styles/typography.scss
:root {
  --font-size-xs: 10px;
  --font-size-sm: 12px;
  --font-size-md: 14px;
  --font-size-lg: 16px;
  --font-size-xl: 18px;
  --font-size-xxl: 20px;
  
  --line-height-xs: 1.2;
  --line-height-sm: 1.3;
  --line-height-md: 1.4;
  --line-height-lg: 1.5;
  --line-height-xl: 1.6;
}
```

## ğŸ§ª æµ‹è¯•è§„èŒƒ

### ç»„ä»¶æµ‹è¯•
```typescript
// components/ProductCard/__tests__/index.spec.ts
import { mount } from '@vue/test-utils'
import ProductCard from '../index.vue'

describe('ProductCard Component', () => {
  const mockProduct = {
    id: 1,
    name: 'å®«ä¿é¸¡ä¸',
    price: 28.00,
    image: '/images/dish1.jpg'
  }

  test('should render product info correctly', () => {
    const wrapper = mount(ProductCard, {
      props: { product: mockProduct }
    })
    
    expect(wrapper.find('.product-name').text()).toBe('å®«ä¿é¸¡ä¸')
    expect(wrapper.find('.product-price').text()).toBe('Â¥28.00')
  })

  test('should emit add-to-cart event when button clicked', async () => {
    const wrapper = mount(ProductCard, {
      props: { product: mockProduct }
    })
    
    await wrapper.find('.add-button').trigger('click')
    expect(wrapper.emitted('add-to-cart')).toBeTruthy()
  })
})
```

### ç«¯åˆ°ç«¯æµ‹è¯•
- ä½¿ç”¨Playwrightè¿›è¡Œç§»åŠ¨ç«¯æµ‹è¯•
- è¦†ç›–æ ¸å¿ƒä¸šåŠ¡æµç¨‹
- å¤šè®¾å¤‡å…¼å®¹æ€§æµ‹è¯•

## ğŸš€ éƒ¨ç½²é…ç½®

### ç”Ÿäº§ç¯å¢ƒæ„å»º
```bash
npm run build
```

### ç§»åŠ¨ç«¯ä¼˜åŒ–
```javascript
// vite.config.ts
export default defineConfig({
  build: {
    rollupOptions: {
      output: {
        manualChunks: {
          vendor: ['vue', 'vue-router', 'pinia'],
          vant: ['vant']
        }
      }
    },
    terserOptions: {
      compress: {
        drop_console: true,
        drop_debugger: true
      }
    }
  }
})
```

### PWAæ”¯æŒ
```typescript
// main.ts
import { registerSW } from 'virtual:pwa-register'

if ('serviceWorker' in navigator) {
  registerSW({
    onNeedRefresh() {
      // æ˜¾ç¤ºæ›´æ–°æç¤º
    },
    onOfflineReady() {
      // æ˜¾ç¤ºç¦»çº¿å¯ç”¨æç¤º
    }
  })
}
```

## ğŸ“š å­¦ä¹ èµ„æº

### å®˜æ–¹æ–‡æ¡£
- [Vue 3 Documentation](https://vuejs.org/)
- [Vant Documentation](https://vant-contrib.gitee.io/vant/)
- [TailwindCSS Documentation](https://tailwindcss.com/)
- [Vite Documentation](https://vitejs.dev/)

### ç§»åŠ¨ç«¯æœ€ä½³å®è·µ
- ç§»åŠ¨ç«¯é€‚é…æ–¹æ¡ˆ
- è§¦æ‘¸äº¤äº’ä¼˜åŒ–
- æ€§èƒ½ç›‘æ§ä¸ä¼˜åŒ–
- ç”¨æˆ·ä½“éªŒè®¾è®¡åŸåˆ™

---
*æ­¤æ–‡æ¡£ä¸ºç”¨æˆ·ç«¯å‰ç«¯æŠ€æœ¯è§„èŒƒï¼Œæ‰€æœ‰å¼€å‘äººå‘˜å¿…é¡»ä¸¥æ ¼éµå®ˆ*